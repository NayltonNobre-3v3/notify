(this.webpackJsonpnotify=this.webpackJsonpnotify||[]).push([[0],{40:function(e,t,a){e.exports=a(71)},45:function(e,t,a){},64:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(10),c=a.n(l),o=(a(45),a(37)),i=a(3),u=a(11),s=a.n(u),m=a(14),d=a(9),p=a(21),E=a(36),b=a(34),f=a.n(b).a.create({baseURL:"http://localhost:8000"}),v=(a(64),a(16));var O=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),o=Object(d.a)(c,2),i=o[0],u=o[1],b=Object(n.useState)(!1),O=Object(d.a)(b,2),g=O[0],h=O[1],N=Object(n.useState)(0),S=Object(d.a)(N,2),y=S[0],I=S[1],A=Object(n.useState)(0),T=Object(d.a)(A,2),C=T[0],j=T[1],D=Object(n.useState)(""),M=Object(d.a)(D,2),_=M[0],L=M[1],w=Object(n.useState)(""),F=Object(d.a)(w,2),k=F[0],x=F[1],R=Object(n.useState)(""),U=Object(d.a)(R,2),q=U[0],V=U[1],P=Object(n.useState)(""),J=Object(d.a)(P,2),B=J[0],H=J[1],X=Object(n.useState)(0),z=Object(d.a)(X,2),Q=z[0],Y=z[1],G=Object(n.useState)(""),K=Object(d.a)(G,2),W=K[0],Z=K[1],$=Object(v.c)((function(e){return e.sensorList})),ee=$.sensors,te=($.loading,$.error,Object(v.b)());function ae(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(m.a)(s.a.mark((function e(t){var a,n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get("notify-get-sensors/".concat(t.target.value));case 2:a=e.sent,n=JSON.stringify(a.data),r=JSON.parse(n),c=r.map((function(e){return e.TYPE})),l(c),j(a.data[0].ID),L(a.data[0].NAME);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=Object(m.a)(s.a.mark((function e(t){var a,n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get("notify-get-sensors/".concat(t));case 2:a=e.sent,n=JSON.stringify(a.data),r=JSON.parse(n),c=r.map((function(e){return e.TYPE})),l(c),j(a.data[0].ID),L(a.data[0].NAME);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e){!function(e){re.apply(this,arguments)}(e.ID_SENSOR),x(e.VALUE),H(e.COND),Y(e.TIME),I(e.ID),Z(e.EMAIL),h(!0)}return Object(n.useEffect)((function(){te(function(){var e=Object(m.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"SENSOR_LIST_REQUEST"}),e.next=4,f.get("notify-get-sensors");case 4:a=e.sent,n=a.data,t({type:"SENSOR_LIST_SUCESS",payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"SENSOR_LIST_FAIL",payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get("notify-sensors-alert");case 2:t=e.sent,a=t.data,u(a.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),console.log("ESTOU IMPRIMINDO= ",k),r.a.createElement("div",{className:"container"},r.a.createElement("main",null,r.a.createElement("div",{className:"monitSelect"},g?r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={ID_SENSOR:C,VALUE:Number(q),NAME:_,POSITION:Number(k),COND:B,TIME:Number(Q),EMAIL:W};f.put("/notify-put-sensor-alert/".concat(y),t).then((function(e){console.log("DATA DO THEN= ",e.data.data),u(e.data.data)}))}},r.a.createElement("fieldset",null,r.a.createElement("h1",{id:"titleForm"},"Editar Alarme"),r.a.createElement("br",null),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"selectModel"},"Nome do sensor:"),r.a.createElement("select",{id:"selectModel",onChange:ae,required:!0,title:"Nome do sensor",value:_},r.a.createElement("option",{value:C},_),ee.map((function(e,t){return r.a.createElement("option",{value:e.ID,key:t},e.NAME)})))),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"selectMeasures"},"Medi\xe7\xe3o:"),r.a.createElement("select",{id:"selectMeasures",onChange:function(e){return x(e.target.value)},title:"Medida do sensor",required:!0},a.map((function(e){return e.map((function(e,t){return r.a.createElement("option",{value:"".concat(t),key:t,data:e.UNIT},e)}))})))),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"selectUnit"},"Valor:"),r.a.createElement("input",{type:"number",id:"ValueInput",value:k,onChange:function(e){return V(e.target.value)}})),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"condition"},"Condi\xe7\xe3o:"),r.a.createElement("select",{onChange:function(e){H(e.target.value)},title:"Condi\xe7\xe3o para alarmar",value:B,required:!0},r.a.createElement("option",{value:"ACIMA"},"Acima"),r.a.createElement("option",{value:"ABAIXO"},"Abaixo"))),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"selectTime",title:"Tempo em minutos"},"Tempo (minutos):"),r.a.createElement("input",{id:"selectTime",type:"number",value:Q,placeholder:"Selecione o tempo",min:0,max:59,onChange:function(e){return Y(e.target.value)},required:!0})),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"selectDest",title:"Destinat\xe1rio"},"Destinat\xe1rio:"),r.a.createElement("input",{id:"selectDest",type:"email",value:W,placeholder:"Selecione o destinat\xe1rio",onChange:function(e){return Z(e.target.value)},required:!0})),r.a.createElement("div",{className:"buttons-container"},r.a.createElement("button",{type:"submit"},"Atualizar alerta"),r.a.createElement("button",{type:"button",onClick:function(e){return l([]),j(0),L(""),x(""),V(""),H("0"),Y(0),Z(""),void h(!1)}},"Voltar")))):r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={ID_SENSOR:C,VALUE:Number(q),NAME:_,POSITION:Number(k),COND:B,TIME:Number(Q),EMAIL:W};f.post("notify-post-sensor-alert",t).then((function(e){console.log("DATA DO THEN= ",e.data.data),u(e.data.data)}))}},r.a.createElement("fieldset",null,r.a.createElement("h1",{id:"titleForm"},"Criar Alarme"),r.a.createElement("br",null),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"selectModel"},"Nome do sensor:"),r.a.createElement("select",{id:"selectModel",onChange:ae,value:_?C:"1",required:!0,title:"Nome do sensor"},r.a.createElement("option",{value:"1",disabled:!0},"Selecione"),ee.map((function(e,t){return r.a.createElement("option",{value:e.ID,key:t},e.NAME)})))),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"selectMeasures"},"Medi\xe7\xe3o:"),r.a.createElement("select",{id:"selectMeasures",disabled:0===a.length,onChange:function(e){return x(e.target.value)},title:"Medida do sensor",required:!0},r.a.createElement("option",{value:"1",disabled:!0},"Selecione"),a.map((function(e){return e.map((function(e,t){return r.a.createElement("option",{value:"".concat(t),key:t},e)}))})))),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"selectUnit"},"Valor:"),r.a.createElement("input",{type:"text",id:"ValueInput",onChange:function(e){return V(e.target.value)},value:q,disabled:0===a.length})),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"condition"},"Condi\xe7\xe3o:"),r.a.createElement("select",{disabled:0===a.length,onChange:function(e){H(e.target.value)},title:"Condi\xe7\xe3o para alarmar",defaultValue:B||"0",required:!0},r.a.createElement("option",{value:"0",disabled:!0},"Selecione"),r.a.createElement("option",{value:"ACIMA"},"Acima"),r.a.createElement("option",{value:"ABAIXO"},"Abaixo"))),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"selectTime",title:"Tempo em minutos"},"Tempo (minutos):"),r.a.createElement("input",{id:"selectTime",type:"number",value:Q,placeholder:"Selecione o tempo",min:0,max:59,disabled:0===a.length,onChange:function(e){return Y(e.target.value)},required:!0})),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"selectDest",title:"Destinat\xe1rio"},"Destinat\xe1rio:"),r.a.createElement("input",{id:"selectDest",type:"email",value:W,placeholder:"Selecione o destinat\xe1rio",disabled:0===a.length,onChange:function(e){return Z(e.target.value)},required:!0})),r.a.createElement("div",{className:"buttons-container"},r.a.createElement("button",{type:"submit",disabled:0===a.length},"Criar Alerta"))))),r.a.createElement("div",{className:"mySchedule"},r.a.createElement("ul",{className:"list-cards"},i&&0!==i.length?i.map((function(e,t){return r.a.createElement("li",{className:"card",key:e.ID},r.a.createElement("div",{className:"head-card"},r.a.createElement("h1",null,e.NAME)),r.a.createElement("div",{className:"content-card"},r.a.createElement("p",null,"Condi\xe7\xe3o: ",e.COND," de ",e.VALUE," ",e.MEDITION),r.a.createElement("p",null,"Tempo para enviar alerta: ",e.TIME/60," min")),r.a.createElement("div",{id:"footer-Container"},r.a.createElement("p",{className:"date-detail"},"Alerta criado em ",e.created_at),r.a.createElement("div",{id:"buttons-Container"},r.a.createElement("button",{type:"button",className:"edit-button",onClick:function(){return le(e)}},r.a.createElement(p.a,{color:"white"})),r.a.createElement("button",{className:"delete-button",onClick:function(t){return a=e.ID,void(window.confirm("Tem certeza que deseja deletar o alarme?")&&f.delete("notify-delete-sensor-alert/".concat(a)).then((function(e){console.log("DATA DO THEN= ",e.data),u(e.data.data)})));var a}},r.a.createElement(p.b,{color:"white"})))))})):r.a.createElement("div",{id:"not-found"}," ",r.a.createElement(E.a,{size:60})," Nenhum alerta registrado")))))};var g=function(){return r.a.createElement(o.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",component:O,exact:!0})))},h=a(39);a(70);var N=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,null),r.a.createElement(h.a,{autoClose:3e3},'position="top-right" autoClose=',2e3,"hideProgressBar=",!1,"newestOnTop=",!1,"closeOnClick rtl=",!1,"pauseOnFocusLoss draggable pauseOnHover"))},S=a(13),y=a(38);var I=Object(S.c)({sensorList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sensors:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SENSOR_LIST_REQUEST":return{loading:!0,sensors:[]};case"SENSOR_LIST_SUCESS":return{loading:!1,sensors:t.payload};case"SENSOR_LIST_FAIL":return{loading:!1,error:t.payload};default:return e}}}),A=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||S.d,T=Object(S.e)(I,{},A(Object(S.a)(y.a)));c.a.render(r.a.createElement(v.a,{store:T},r.a.createElement(N,null)),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.7c9935a6.chunk.js.map